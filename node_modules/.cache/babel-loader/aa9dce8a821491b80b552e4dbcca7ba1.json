{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\JS\\\\Authentication\\\\client\\\\src\\\\App.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useEffect, useState, useContext } from \"react\";\nimport './App.css';\nimport Axios from 'axios';\nimport { AuthContext } from './helpers/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction App() {\n  _s();\n\n  const [authState, setAuthState] = useState(false); // initially its boolean cz we check its logged in or not\n\n  const [usernameReg, setUsernameReg] = useState(\"\");\n  const [passwordReg, setPasswordReg] = useState(\"\");\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [loginStatus, setLoginStatus] = useState(\"\"); //const setAuthState = useContext(AuthContext);\n  // Axios.defaults.withCredentials = true;\n\n  const register = () => {\n    // sending variables to backend\n    Axios.post(\"http://localhost:3001/register\", {\n      username: usernameReg,\n      password: passwordReg\n    }).then(response => {\n      console.log(response);\n    });\n  };\n\n  const login = () => {\n    Axios.post(\"http://localhost:3001/login\", {\n      username: username,\n      password: password\n    }).then(response => {\n      //console.log(response.data);\n      if (response.data.message) {\n        setLoginStatus(response.data.message);\n      } else {\n        //setLoginStatus(response.data[0].username);\n        localStorage.setItem(\"accessToken\", response.data);\n        setAuthState(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/auth\", {\n      headers: {\n        accessToken: localStorage.getItem(\"accessToken\")\n      }\n    }).then(response => {\n      if (response.data.message) {\n        setAuthState(false);\n      } else {\n        setAuthState(true);\n      }\n    });\n  }, []);\n  /* useEffect(() => {\n     Axios.get(\"http://localhost:3001/login\").then((response) => {\n     \n       if (response.data.loggedIn === true) {\n         setLoginStatus(response.data.user[0].username);\n       }\n       \n     });\n   }, []);*/\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n      value: {\n        authState,\n        setAuthState\n      },\n      children: [!authState && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Registration\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Registration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => {\n              setUsernameReg(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => {\n              setPasswordReg(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: register,\n            children: \"Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Login\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => {\n              setUsername(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            onChange: e => {\n              setPassword(e.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 9\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: login,\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Hello World!Mein Iha hoo!!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"9K8InamNp72FDOMnaQF9gAgPG/k=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Axios","AuthContext","App","authState","setAuthState","usernameReg","setUsernameReg","passwordReg","setPasswordReg","username","setUsername","password","setPassword","loginStatus","setLoginStatus","register","post","then","response","console","log","login","data","message","localStorage","setItem","get","headers","accessToken","getItem","e","target","value"],"sources":["C:/Users/User/Desktop/JS/Authentication/client/src/App.js"],"sourcesContent":["\nimport React from \"react\";\nimport {useEffect , useState ,useContext } from \"react\";\nimport './App.css';\nimport Axios from 'axios';\nimport {AuthContext} from './helpers/AuthContext';\n\n\nfunction App() {\n\n  const [authState, setAuthState] = useState(false); // initially its boolean cz we check its logged in or not\n\n  const [usernameReg,setUsernameReg] = useState(\"\");\n  const [passwordReg,setPasswordReg] = useState(\"\");\n\n\n  const [username,setUsername] = useState(\"\");\n  const [password,setPassword] = useState(\"\");\n\n  const [loginStatus,setLoginStatus] = useState(\"\");\n  //const setAuthState = useContext(AuthContext);\n\n // Axios.defaults.withCredentials = true;\n\n  const register = () => { // sending variables to backend\n    Axios.post(\"http://localhost:3001/register\" , {username:usernameReg , password:passwordReg}).then((response) => {\n      console.log(response);\n    });\n  };\n\n  const login = () => {\n    Axios.post(\"http://localhost:3001/login\" , {username:username , password:password}).then((response) => {\n      //console.log(response.data);\n      if(response.data.message){\n        setLoginStatus(response.data.message);\n      }else {\n        //setLoginStatus(response.data[0].username);\n        localStorage.setItem(\"accessToken\",response.data);\n        setAuthState(true);\n      }\n    });\n  };\n\n  useEffect(() => {\n    Axios\n      .get(\"http://localhost:3001/auth\", {\n        headers: {\n          accessToken: localStorage.getItem(\"accessToken\"),\n        },\n      })\n      .then((response) => {\n        if (response.data.message) {\n          setAuthState(false);\n        } else {\n          setAuthState(true);\n        }\n      });\n  }, []);\n\n  \n /* useEffect(() => {\n    Axios.get(\"http://localhost:3001/login\").then((response) => {\n    \n      if (response.data.loggedIn === true) {\n        setLoginStatus(response.data.user[0].username);\n      }\n      \n    });\n  }, []);*/\n\n  return (\n    <div className=\"App\">\n      <AuthContext.Provider value={{authState,setAuthState}}>\n      { !authState && (\n        <>\n      <div className='Registration'>\n        <h2>Registration</h2>\n        <label>username</label>\n        <input type= \"text\"\n        onChange={(e) =>\n        {setUsernameReg(e.target.value);\n        }\n        }/>\n        <label>password</label>\n        <input type= \"text\"\n        onChange={(e) =>\n          {setPasswordReg(e.target.value);\n          }\n          } />\n        <button onClick={register} >Register</button>\n \n      </div>\n \n      <div className='Login'>\n        <h2>Login</h2>\n        <label>username</label>\n        <input type= \"text\" \n        onChange={(e) =>\n          {setUsername(e.target.value);\n          } \n        } />\n        <label>password</label>\n        <input type= \"text\"\n        onChange={(e) =>\n          {setPassword(e.target.value);\n          }\n          }  />\n        <button onClick={login}>Login</button>\n \n      </div>\n      </>\n      )\n     }\n\n      <div>Hello World!Mein Iha hoo!!</div>\n      </AuthContext.Provider>\n\n      \n      \n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}